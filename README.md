# DNSQueryX

ğŸ” ä¸€ä¸ªåŸºäº Rust + Actix Web å¼€å‘çš„ DNS æŸ¥è¯¢ APIï¼Œæ”¯æŒé€Ÿç‡é™åˆ¶ï¼Œå¹¶æä¾›æ ‡å‡†åŒ– JSON å“åº”æ ¼å¼ã€‚

## âœ¨ é¡¹ç›®ç‰¹ç‚¹

- ğŸš€ é«˜æ€§èƒ½ï¼šåŸºäº actix-web å’Œ tokio æä¾›å¼‚æ­¥å¤„ç†èƒ½åŠ›ã€‚
- ğŸ›¡ï¸ é€Ÿç‡é™åˆ¶ï¼šé›†æˆ actix-governorï¼Œé˜²æ­¢æ»¥ç”¨è¯·æ±‚ã€‚
- ğŸ“¡ DNS è§£æï¼šä½¿ç”¨ trust-dns-resolver è§£æåŸŸåã€‚
- ğŸ“‹ æ ‡å‡† API è¿”å›ï¼šä½¿ç”¨ JSON æ ¼å¼è¿”å› code/msg/data ç»“æ„åŒ–æ•°æ®ã€‚
- ğŸ“œ æ—¥å¿—è®°å½•ï¼šé›†æˆ tracing å’Œ tracing-subscriber è¿›è¡Œè¯¦ç»†æ—¥å¿—è®°å½•ã€‚

## ğŸš€ ä½¿ç”¨æ–¹æ³•

1. å…‹éš†ä»“åº“

    ```bash
    git clone https://github.com/puffinjiang/DNSQueryX.git
    ```

2. è¿è¡Œé¡¹ç›®
    
    ç¡®ä¿å·²å®‰è£… Rustï¼ˆå»ºè®®ä½¿ç”¨ rustupï¼‰ã€‚ç„¶åæ‰§è¡Œï¼š

    ```bash
    cargo run
    ```

é»˜è®¤ä¼šå¯åŠ¨ http://127.0.0.1:8000ã€‚


## ğŸ› ï¸ API è¯´æ˜

ğŸ”¹ 1. DNS æŸ¥è¯¢
- è¯·æ±‚æ–¹å¼ï¼šGET
- æ¥å£åœ°å€ï¼š/dns-lookup
- è¯·æ±‚å‚æ•°ï¼š
- domainï¼ˆå¿…å¡«ï¼‰ï¼šè¦è§£æçš„åŸŸå

ç¤ºä¾‹è¯·æ±‚ï¼š

```bash
curl http://127.0.0.1:8000/dns-lookup?domain=github.com
```

æˆåŠŸå“åº”ç¤ºä¾‹ï¼š

```json
{
  "code": "00000",
  "msg": "OK",
  "data": {
    "domain": "github.com",
    "addresses": ["140.82.112.4"]
  }
}
```

é”™è¯¯å“åº”ç¤ºä¾‹:

```json
{
  "code": "11001",
  "msg": "Missing domain parameter",
  "data": null
}
```

## ğŸ“ TODO

- [x] æ·»åŠ  Dockerfileï¼Œæ”¯æŒå®¹å™¨åŒ–éƒ¨ç½²ã€‚



## ğŸ“œ è®¸å¯è¯

æœ¬é¡¹ç›®ä½¿ç”¨ MIT è®¸å¯è¯ï¼Œä½ å¯ä»¥è‡ªç”±ä½¿ç”¨å’Œä¿®æ”¹ä»£ç ã€‚


